
build-airflow:
	@echo 'building airflow image ðŸ› '
	docker build -t 158444585956.dkr.ecr.us-east-1.amazonaws.com/m5o-prod-airflow:latest -f Dockerfile.airflow ../../data
	@echo 'done âœ…'

build-meltano:
	@echo 'building meltano image ðŸ› '
	docker build -t 158444585956.dkr.ecr.us-east-1.amazonaws.com/m5o-prod-meltano:latest -f Dockerfile.meltano ../../data
	@echo 'done âœ…'

build: build-airflow build-meltano

publish-airflow:
	@echo 'pushing airflow image ðŸš€'
	docker push 158444585956.dkr.ecr.us-east-1.amazonaws.com/m5o-prod-airflow:latest
	@echo 'done âœ…'

publish-meltano:
	@echo 'pushing meltano image ðŸš€'
	docker push 158444585956.dkr.ecr.us-east-1.amazonaws.com/m5o-prod-meltano:latest

publish: publish-airflow publish-meltano